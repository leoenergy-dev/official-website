---
import Container from "./Container.astro";
import Botton_icon from "./Botton_icon.astro";
---

<header>
  <nav class='h-[72px] lg:h-[92px] border-b flex items-center text-[20px]'>
    <Container>
      <div
        class='flex lg:items-center gap-6 justify-between px-4 lg:px-0 header'>
        <a href='/' class='flex items-center'>
          <div class='w-[60px]'>
            <img src='/logo_leo.png' alt='logo leo Energy' width='100%' />
          </div>
          <div class='hidden md:block font-bold principal-blue text-[24px]'>
            LEO<span class='principal-yellow'>ENERGY</span>
          </div>
        </a>
        <div class='hidden lg:flex gap-5 items-center'>
          <ul class='flex gap-5 font-semibold text-gray-600 pr-5 border-r-2'>
            <a href='/'><li>Accueil</li></a>
            <a href='/entreprise'><li>A Propos</li></a>
            <a>
              <li class='services relative'>
                Services
                <ul
                  class='services-menu absolute left-[-100px] w-[350px] bg-white border text-base shadow-md overflow-hidden'>
                  <a href='/services/recup-eau-plus'
                    ><li
                      class='h-fit px-6 flex items-center hover:bg-[var(--principal-blue)] hover:text-white py-2'>
                      RÉCUPÉRATION D’EAU DE PLUIE POUR LES SANITAIRES
                    </li></a
                  >
                  <a href='/services/inspect-conseil'
                    ><li
                      class='h-fit px-6 flex items-center hover:bg-[var(--principal-blue)] hover:text-white py-2'>
                      INSPECTION ET CONSEIL EN CONSOMMATION D’EAU
                    </li></a
                  >
                  <a href='/services/audit-reglem'
                    ><li
                      class='h-fit px-6 flex items-center hover:bg-[var(--principal-blue)] hover:text-white py-2'>
                      AUDIT ÉNERGÉTIQUE RÉGLEMENTAIRES POUR LES MAISONS
                      INDIVIDUELLES
                    </li></a
                  >
                  <a href='/services/audit-energic'
                    ><li
                      class='h-fit px-6 flex items-center hover:bg-[var(--principal-blue)] hover:text-white py-2'>
                      AUDIT ÉNERGÉTIQUE POUR LES BÂTIMENTS TERTIAIRES
                    </li></a
                  >
                </ul>
              </li>
            </a>
            <a href='/actualites'><li>Actualités</li></a>
            <a href='/contact'><li>Contacts</li></a>
          </ul>
          <ul class='flex gap-5 text-gray-600'>
            <a
              href='https://www.facebook.com/profile.php?id=61561583994861&mibextid=ZbWKwL'
              ><li>
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  width='32'
                  height='32'
                  viewBox='0 0 24 24'
                  ><path
                    fill='currentColor'
                    d='M12.001 2c-5.523 0-10 4.477-10 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89c1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.344 21.129 22 16.992 22 12c0-5.523-4.477-10-10-10'
                  ></path></svg
                >
              </li></a
            >
            <a href='https://www.linkedin.com/groups/14481244'
              ><li>
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  width='32'
                  height='32'
                  viewBox='0 0 24 24'
                  ><path
                    fill='currentColor'
                    d='M18.336 18.339h-2.665v-4.177c0-.996-.02-2.278-1.39-2.278c-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387c2.7 0 3.2 1.778 3.2 4.092v4.714zM7.004 8.575a1.546 1.546 0 0 1-1.548-1.549a1.548 1.548 0 1 1 1.547 1.549m1.336 9.764H5.667V9.75H8.34zM19.67 3H4.33C3.594 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.339C20.4 21 21 20.42 21 19.703V4.297C21 3.581 20.4 3 19.666 3z'
                  ></path></svg
                >
              </li></a
            >
          </ul>
        </div>

        <div class='lg:hidden'>
          <button class='menu aspect-square flex lg:hidden items-center h-full'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='32'
              height='32'
              viewBox='0 0 24 24'
              ><path
                fill='currentColor'
                d='M3 4h18v2H3zm6 7h12v2H9zm-6 7h18v2H3z'></path></svg
            >
          </button>
        </div>
        <div
          class='hidden lg:hidden top-0 left-0 z-10 w-full h-[100dvh] bg-white menu-content'>
          <div class='h-[72px] p-4'>
            <button
              class='w-[42px] aspect-square rounded-full flex items-center justify-center border close'>
              <svg
                xmlns='http://www.w3.org/2000/svg'
                width='24'
                height='24'
                viewBox='0 0 24 24'
                ><path
                  fill='currentColor'
                  d='M10.586 12L2.793 4.207l1.414-1.414L12 10.586l7.793-7.793l1.414 1.414L13.414 12l7.793 7.793l-1.414 1.414L12 13.414l-7.793 7.793l-1.414-1.414z'
                ></path></svg
              >
            </button>
            <div>
              <Botton_icon url={"/"} delay={100}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='24'
                      height='24'
                      viewBox='0 0 24 24'
                      ><path
                        fill='currentColor'
                        d='M19 21H5a1 1 0 0 1-1-1v-9H1l10.327-9.388a1 1 0 0 1 1.346 0L23 11h-3v9a1 1 0 0 1-1 1M6 19h12V9.157l-6-5.454l-6 5.454z'
                      ></path></svg
                    >
                  </div>
                  Accueil
                </div>
              </Botton_icon>
              <Botton_icon url={"/entreprise"} delay={200}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='24'
                      height='24'
                      viewBox='0 0 24 24'
                      ><path
                        fill='currentColor'
                        d='M21 19h2v2H1v-2h2V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v15h4v-8h-2V9h3a1 1 0 0 1 1 1zM5 5v14h8V5zm2 6h4v2H7zm0-4h4v2H7z'
                      ></path></svg
                    >
                  </div>
                  A Propos de Nous
                </div>
              </Botton_icon>
              <Botton_icon url={"#"} delay={300}>
                <div>
                  <div class='flex items-center gap-4 py-3'>
                    <div
                      class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                      <svg
                        xmlns='http://www.w3.org/2000/svg'
                        width='24'
                        height='24'
                        viewBox='0 0 24 24'
                        ><path
                          fill='currentColor'
                          d='M3.161 4.469a6.5 6.5 0 0 1 8.84-.328a6.5 6.5 0 0 1 9.178 9.154l-7.765 7.79a2 2 0 0 1-2.719.102l-.11-.101l-7.764-7.791a6.5 6.5 0 0 1 .34-8.826m1.414 1.414a4.5 4.5 0 0 0-.146 6.21l.146.154L12 19.672l5.303-5.305l-3.535-3.534l-1.06 1.06a3 3 0 0 1-4.244-4.242l2.102-2.103a4.501 4.501 0 0 0-5.837.189zm8.486 2.828a1 1 0 0 1 1.414 0l4.242 4.242l.708-.706a4.5 4.5 0 0 0-6.211-6.51l-.153.146l-3.182 3.182a1 1 0 0 0-.078 1.327l.078.087a1 1 0 0 0 1.327.078l.087-.078z'
                        ></path></svg
                      >
                    </div>
                    Services
                  </div>
                  <div>
                    <ul class='pl-[20px]'>
                      <a href='/services/recup-eau-plus'
                        ><li
                          class='h-fit px-6 flex items-center text-base py-3'>
                          RÉCUPÉRATION D’EAU DE PLUIE POUR LES SANITAIRES
                        </li></a
                      >
                      <a href='/services/inspect-conseil'
                        ><li
                          class='h-fit px-6 flex items-center text-base py-3'>
                          INSPECTION ET CONSEIL EN CONSOMMATION D’EAU
                        </li></a
                      >
                      <a href='/services/audit-reglem'
                        ><li
                          class='h-fit px-6 flex items-center text-base py-3'>
                          AUDIT ÉNERGÉTIQUE RÉGLEMENTAIRES POUR LES MAISONS
                          INDIVIDUELLES
                        </li></a
                      >
                      <a href='/services/audit-energic'
                        ><li
                          class='h-fit px-6 flex items-center text-base py-3'>
                          AUDIT ÉNERGÉTIQUE POUR LES BÂTIMENTS TERTIAIRES
                        </li></a
                      >
                    </ul>
                  </div>
                </div>
              </Botton_icon>
              <Botton_icon url={"/actualites"} delay={400}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='24'
                      height='24'
                      viewBox='0 0 24 24'
                      ><path
                        fill='currentColor'
                        d='M16 20V4H4v15a1 1 0 0 0 1 1zm3 2H5a3 3 0 0 1-3-3V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v7h4v9a3 3 0 0 1-3 3m-1-10v7a1 1 0 1 0 2 0v-7zM6 6h6v6H6zm2 2v2h2V8zm-2 5h8v2H6zm0 3h8v2H6z'
                      ></path></svg
                    >
                  </div>
                  Actualités
                </div>
              </Botton_icon>
              <Botton_icon url={"/contact"} delay={500}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='24'
                      height='24'
                      viewBox='0 0 24 24'
                      ><path
                        fill='currentColor'
                        d='M22 17.002a6.002 6.002 0 0 1-4.713 5.86l-.638-1.914A4.003 4.003 0 0 0 19.465 19H17a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.938a8.001 8.001 0 0 0-15.876 0H7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5C2 6.477 6.477 2 12 2s10 4.477 10 10v5zM20 17v-4h-3v4zM4 13v4h3v-4z'
                      ></path></svg
                    >
                  </div>
                  Contacts
                </div>
              </Botton_icon>
            </div>
            <div>
              <div class='font-bold mt-5 pl-2'>Nos Réseaux Sociaux</div>
              <Botton_icon
                url={"https://www.facebook.com/profile.php?id=61561583994861&mibextid=ZbWKwL"}
                delay={600}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='32'
                      height='32'
                      viewBox='0 0 24 24'
                      class='text-blue-600'
                      ><path
                        fill='currentColor'
                        d='M12.001 2c-5.523 0-10 4.477-10 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89c1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.344 21.129 22 16.992 22 12c0-5.523-4.477-10-10-10'
                      ></path></svg
                    >
                  </div>
                  Facebook
                </div>
              </Botton_icon>
              <Botton_icon
                url={"https://www.linkedin.com/groups/14481244"}
                delay={700}>
                <div class='flex items-center gap-4 py-3'>
                  <div
                    class='w-[42px] aspect-square rounded-full flex items-center justify-center'>
                    <svg
                      xmlns='http://www.w3.org/2000/svg'
                      width='32'
                      height='32'
                      viewBox='0 0 24 24'
                      class='text-blue-500'
                      ><path
                        fill='currentColor'
                        d='M18.336 18.339h-2.665v-4.177c0-.996-.02-2.278-1.39-2.278c-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387c2.7 0 3.2 1.778 3.2 4.092v4.714zM7.004 8.575a1.546 1.546 0 0 1-1.548-1.549a1.548 1.548 0 1 1 1.547 1.549m1.336 9.764H5.667V9.75H8.34zM19.67 3H4.33C3.594 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.339C20.4 21 21 20.42 21 19.703V4.297C21 3.581 20.4 3 19.666 3z'
                      ></path></svg
                    >
                  </div>
                  LinkedIn
                </div>
              </Botton_icon>
            </div>
          </div>
        </div>
      </div>
    </Container>
  </nav>
</header>

<script>
  const menubtn = document.querySelector(".menu") as HTMLButtonElement;
  const menuContent = document.querySelector(".menu-content") as HTMLDivElement;
  const header = document.querySelector(".header");
  const close = document.querySelector(".close");

  menuContent.remove();
  header?.addEventListener("click", () => {
    console.log("je fonctionne");
    header?.appendChild(menuContent);
    menuContent?.classList.remove("hidden");
    menuContent?.classList.add("fixed");
    menuContent?.classList.add(".active-menu");
    document.body.style.overflow = "hidden";
    document.body.style.height = "100dvh";
    document.body.style.width = "100dvw";
  });

  close?.addEventListener("click", () => {
    menuContent?.classList.add("hidden");
    menuContent?.classList.remove("fixed");
    menuContent?.remove();
    document.body.style.overflow = "auto";
  });
</script>
